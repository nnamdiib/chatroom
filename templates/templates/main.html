<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" type="text/css" href="{{ static_url("css/style.css") }}">
    <link rel="stylesheet" type="text/css" href="{{ static_url("css/bootstrap.css") }}">
    <script src="{{ static_url("js/prefixfree.min.js") }}"></script>
    <script src="{{ static_url("js/zepto.min.js") }}"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Clam Chat</title>
</head>
<body class="container ">

   
		<div class="header">
			<div>Clam<span>Chat</span></div>
		</div>
		<br>
		<div class="login">
				<input id="txtRoom" type="text" name="Room" value="" placeholder="Enter a chatroom name"><br>
				<input id="txtNickname" type="text" name="Nickname" value="" placeholder="Pick a username"><br>
 				<input id="btnLogin" type="button" name="Send" value="Start chat!" disabled="disabled"/>
		</div>
		<br>
		<div id="alternative">
			<hr width="80" align='centre'>
			<h2 align="center"> Or</h2>
			<hr width="80" align='centre'>
			<br>
			<br>
			<a href="{{ reverse_url("existing") }}"><h4> Enter an existing <span id="red-part">Chatroom</span></h4></a>
			
		</div>
		<br>
		<div class="footer">
			<br>
			Developed by <span id="red-part"> Nnamdi</span>
		</div>
		

		
    <script src='http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>

    
    
    
    
  </body>

    <script src='http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>

    



    

    <script>
        Zepto(function($){
            $('#btnLogin').click(function() { 
              
				login();
				
            });

            $("#txtRoom").keyup(function(event) { update_send(event); } );
            $("#txtNickname").keyup(function(event) { update_send(event); } );
           

        });
		


        function login(){
                var h;
                h = window.location.host  + '/chat.html/?room=' + $('#txtNickname').val() + '&nick=' + $('#txtNickname').val();
                window.location = '/?room=' + $('#txtRoom').val() + '&nick=' + $('#txtNickname').val();
            }

        function update_send(event) {
            if ( $("#txtRoom").val() != "" && $("#txtNickname").val() != "") {
                $("#btnLogin").removeAttr("disabled");
                if (event.which == 13){                   
					login();
				}
            } else {
                $("#btnLogin").attr("disabled", "disabled");
            }
        };

    </script>
</html>
